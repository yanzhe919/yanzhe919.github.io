<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 4.2.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css"><script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"blog.yanzhe.tk",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!1,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!0,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!0,pangu:!0,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!1,nav:{valine:{order:-2},gitalk:{order:-2}},activeClass:"valine"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:5,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="Java对象持有接口时组建XML报文，以及一些其他使用JAXB的小技巧"><meta property="og:type" content="article"><meta property="og:title" content="使用jaxb接口的实现和一些Tips"><meta property="og:url" content="https://blog.yanzhe.tk/2016/02/27/jaxb-use-interface-and-some-tips/"><meta property="og:site_name" content="第二天堂"><meta property="og:description" content="Java对象持有接口时组建XML报文，以及一些其他使用JAXB的小技巧"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2016-02-27T06:08:05.000Z"><meta property="article:modified_time" content="2020-08-23T02:46:56.939Z"><meta property="article:author" content="颜哲"><meta property="article:tag" content="Java"><meta property="article:tag" content="JAXB"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://blog.yanzhe.tk/2016/02/27/jaxb-use-interface-and-some-tips/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>#needsharebutton-float{bottom:88px;cursor:pointer;left:-8px;position:fixed;z-index:9999}#needsharebutton-float .btn{border:1px solid $btn-default-border-color;border-radius:4px;padding:0 10px 0 14px}</style><script>window.addEventListener('DOMContentLoaded', () => {
    'use strict';
    
      if (NexT.utils.hasMobileUA()) return;
    
    let time, hidden, visible, title = document.title;
    let favicon = document.querySelector('link[rel="icon"]');
    
      hidden = 'φ(*￣0￣),Waiting for you.';
      visible = '(✿◡‿◡),Welcome back!';
    
    let random = t => t[Math.floor(Math.random() * t.length)];
    const change = () => {
      if (document.hidden) {
        favicon.setAttribute('href', '/images/favicon.ico');
        
          document.title = hidden;
        
        clearTimeout(time);
      } else {
        favicon.setAttribute('href', '/images/favicon.ico');
        
          document.title = visible;
        
        time = setTimeout(() => {
          document.title = title;
        }, 2019);
      }
    }
    document.addEventListener('visibilitychange', change, false);
  });</script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-2525576362651538",enable_page_level_ads:!0})</script><title>使用jaxb接口的实现和一些Tips | 第二天堂</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-59570209-1"></script><script data-pjax>function gtag(){dataLayer.push(arguments)}CONFIG.hostname===location.hostname&&(window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-59570209-1"))</script><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?391982416296a0d54221f59fe35250d4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="第二天堂" type="application/atom+xml">
</head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">第二天堂</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">简单的生活，更少的期待，更多的付出。</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">48</span></a></li><li class="menu-item menu-item-commonweal"><a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div><script type="text/javascript" src="/js/src/tw_cn.js"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=0,cookieDomain="https://blog.yanzhe.tk/";translateInitilization(),window.translatePage=translatePage</script><script type="text/javascript" src="/js/src/love.js"></script><script type="text/javascript">WIDGET={FID:"scxO0sYFAD"}</script><script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111"></script></div></header><div class="reading-progress-bar"></div><a role="button" class="book-mark-link book-mark-link-fixed"></a> <a href="https://github.com/yanzhe919" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://blog.yanzhe.tk/2016/02/27/jaxb-use-interface-and-some-tips/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="颜哲"><meta itemprop="description" content="生活啊，就像我的歌声，时而不靠谱，时而不着调。但总会打动自己"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="第二天堂"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">使用jaxb接口的实现和一些Tips<a href="https://github.com/yanzhe919/yanzhe919.github.io/edit/hexo/source/_posts/jaxb-use-interface-and-some-tips.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pencil-alt"></i></a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2016-02-27  星期六 14:08:05" itemprop="dateCreated datePublished" datetime="2016-02-27T14:08:05+08:00">2016-02-27 星期六</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2020-08-23  星期日 10:46:56" itemprop="dateModified" datetime="2020-08-23T10:46:56+08:00">2020-08-23 星期日</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">Java</span></a> </span></span><span id="/2016/02/27/jaxb-use-interface-and-some-tips/" class="post-meta-item leancloud_visitors" data-flag-title="使用jaxb接口的实现和一些Tips" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/2016/02/27/jaxb-use-interface-and-some-tips/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2016/02/27/jaxb-use-interface-and-some-tips/" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>13k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>23 分钟</span></span><div class="post-description">Java对象持有接口时组建XML报文，以及一些其他使用JAXB的小技巧</div></div></header><div class="post-body" itemprop="articleBody"><p>JAXB（Java API for XML Binding），提供了一个快速便捷的方式将Java对象与XML进行转换。在JAX-WS（Java的WebService规范之一）中，JDK1.6 自带的版本JAX-WS2.1，其底层支持就是JAXB。JAXB 2.0是JDK 1.6的组成部分。JAXB 2.2.3是JDK 1.7的组成部分。</p><pre><code>JAXB 可以实现Java对象与XML的相互转换，在JAXB中，将一个Java对象转换为XML的过程称之为Marshal，将XML转换为Java对象的过程称之为UnMarshal。</code></pre><h2 id="JAXB中的一些注解"><a href="#JAXB中的一些注解" class="headerlink" title="JAXB中的一些注解"></a>JAXB中的一些注解</h2><p>JDK中JAXB相关的重要Class和Interface：</p><p>1、JAXBContext类，是应用的入口，用于管理XML/Java绑定信息。</p><p>2、Marshaller接口，将Java对象序列化为XML数据。</p><p>3、Unmarshaller接口，将XML数据反序列化为Java对象。</p><p>JDK中JAXB相关的重要Annotation：</p><p>1、@XmlType，将Java类或枚举类型映射到XML模式类型。用在class类的注解，常与@XmlRootElement，@XmlAccessorType一起使用。</p><p>2、@XmlAccessorType(XmlAccessType.FIELD) ，控制字段或属性的序列化。FIELD表示JAXB将自动绑定Java类中的每个非静态的（static）、非瞬态的（由@XmlTransient标注）字段到XML。其他值还有XmlAccessType.PROPERTY和XmlAccessType.NONE。</p><p>3、@XmlAccessorOrder，控制JAXB 绑定类中属性和字段的排序。</p><pre><code>AccessorOrder.ALPHABETICAL：对生成的xml元素按字母书序排序</code></pre><p>　　XmlAccessOrder.UNDEFINED:不排序</p><pre><code>当同时使用@XmlType的propOrder属性指定顺序时，以指定为准</code></pre><p>4、@XmlJavaTypeAdapter，使用定制的适配器（即扩展抽象类XmlAdapter并覆盖marshal()和unmarshal()方法），以序列化Java类为XML。</p><p>5、@XmlElementWrapper ，对于数组或集合（即包含多个元素的成员变量），生成一个包装该数组或集合的XML元素（称为包装器）。</p><p>6、@XmlRootElement，将Java类或枚举类型映射到XML元素。</p><p>7、@XmlElement，将Java类的一个属性映射到与属性同名的一个XML元素。</p><p>8、@XmlAttribute，将Java类的一个属性映射到与属性同名的一个XML属性。</p><h2 id="Mapping-interfaces"><a href="#Mapping-interfaces" class="headerlink" title="Mapping interfaces"></a>Mapping interfaces</h2><p>因为W3C XML Schema和Java类型系统引起的XML类型系统之间的差异，JAXB不能绑定接口开箱即用，但也有一些事情可以做。</p><h3 id="使用-XmlRootElement"><a href="#使用-XmlRootElement" class="headerlink" title="使用@XmlRootElement"></a>使用@XmlRootElement</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlRootElement</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zoo</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlAnyElement</span></span><br><span class="line">  <span class="keyword">public</span> List&lt;Animal&gt; animals;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@XmlRootElement</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">implements</span> <span class="title">Animal</span> </span>&#123; ... &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@XmlRootElement</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lion</span> <span class="keyword">implements</span> <span class="title">Animal</span> </span>&#123; ... &#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">zoo</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lion</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">lion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dog</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">dog</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">zoo</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这种方法的主要特点是：</p><ol><li>实现是开放式的; 任何人都可以实现这些接口，即使由不同的人从不同的模块，只要它们都被提供给JAXBContext.newInstance方法。没有必要列出的任何地方都实现类。</li><li>每个接口的实现都需要有一个独特的元素名称。</li><li>为每个接口参考需要有 XmlElementRef将 注释。该类型= Object.class部分告诉JAXB所有实现最大的公共基类是java.lang.Object继承。</li></ol><p>分组，列表</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlRootElement</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Zoo</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlElementWrapper</span></span><br><span class="line">  <span class="meta">@XmlAnyElement</span></span><br><span class="line">  <span class="keyword">public</span> List&lt;Animal&gt; onExhibit;</span><br><span class="line">  <span class="meta">@XmlElementWrapper</span></span><br><span class="line">  <span class="meta">@XmlAnyElement</span></span><br><span class="line">  <span class="keyword">public</span> List&lt;Animal&gt; resting;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">zoo</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">onExhibit</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">lion</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">lion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dog</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">dog</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">onExhibit</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resting</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">lion</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">lion</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dog</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">dog</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resting</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">zoo</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="使用-XmlJavaTypeAdapter"><a href="#使用-XmlJavaTypeAdapter" class="headerlink" title="使用@XmlJavaTypeAdapter"></a>使用@XmlJavaTypeAdapter</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlJavaTypeAdapter</span>(FooImpl.Adapter<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">interface</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooImpl</span> <span class="keyword">implements</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlAttribute</span></span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="meta">@XmlElement</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> x;</span><br><span class="line">  </span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> <span class="keyword">extends</span> <span class="title">XmlAdapter</span>&lt;<span class="title">FooImpl</span>,<span class="title">IFoo</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">IFoo <span class="title">unmarshal</span><span class="params">(FooImpl v)</span> </span>&#123; <span class="keyword">return</span> v; &#125;</span><br><span class="line">    <span class="function">FooImpl <span class="title">marshal</span><span class="params">(IFoo v)</span> </span>&#123; <span class="keyword">return</span> (FooImpl)v; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Somewhere</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> IFoo lhs;</span><br><span class="line">  <span class="keyword">public</span> IFoo rhs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">somewhere</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">lhs</span> <span class="attr">name</span>=<span class="string">"..."</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x</span>&gt;</span>5<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">lhs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rhs</span> <span class="attr">name</span>=<span class="string">"..."</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">x</span>&gt;</span>5<span class="tag">&lt;/<span class="name">x</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">rhs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">somewhere</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这种方法的主要特点是：</p><ol><li>接口和实现将通过一个适配器紧密结合，虽然改变适配器代码将允许您支持多种实现。</li><li>有在使用接口，无需任何注释。<br>这种技术的一个变化是，当你有几个实现接口，不只是一个。</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlJavaTypeAdapter</span>(AbstractFooImpl.Adapter<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">interface</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractFooImpl</span> <span class="keyword">implements</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Adapter</span> <span class="keyword">extends</span> <span class="title">XmlAdapter</span>&lt;<span class="title">AbstractFooImpl</span>,<span class="title">IFoo</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">IFoo <span class="title">unmarshal</span><span class="params">(AbstractFooImpl v)</span> </span>&#123; <span class="keyword">return</span> v; &#125;</span><br><span class="line">    <span class="function">AbstractFooImpl <span class="title">marshal</span><span class="params">(IFoo v)</span> </span>&#123; <span class="keyword">return</span> (AbstractFooImpl)v; &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeFooImpl</span> <span class="keyword">extends</span> <span class="title">AbstractFooImpl</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlAttribute</span> String name;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnotherFooImpl</span> <span class="keyword">extends</span> <span class="title">AbstractFooImpl</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlAttribute</span> <span class="keyword">int</span> id;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Somewhere</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> IFoo lhs;</span><br><span class="line">  <span class="keyword">public</span> IFoo rhs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">somewhere</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">lhs</span> <span class="attr">xsi:type</span>=<span class="string">"someFooImpl"</span> <span class="attr">name</span>=<span class="string">"..."</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">lhs</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">rhs</span> <span class="attr">xsi:type</span>=<span class="string">"anotherFooImpl"</span> <span class="attr">id</span>=<span class="string">"3"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">somewhere</span>&gt;</span></span><br></pre></td></tr></table></figure><p>需要注意的是SomeFooImpl和AnotherFooImpl必须提交JAXBContext.newInstance一种方式或其他。</p><p>再举这个例子，你可以使用Object而不是AbstractFooImpl。如下</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlJavaTypeAdapter</span>(AnyTypeAdapter<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">interface</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnyTypeAdapter</span> <span class="keyword">extends</span> <span class="title">XmlAdapter</span>&lt;<span class="title">Object</span>,<span class="title">Object</span>&gt; </span>&#123;</span><br><span class="line">  <span class="function">Object <span class="title">unmarshal</span><span class="params">(Object v)</span> </span>&#123; <span class="keyword">return</span> v; &#125;</span><br><span class="line">  <span class="function">Object <span class="title">marshal</span><span class="params">(Object v)</span> </span>&#123; <span class="keyword">return</span> v; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomeFooImpl</span> <span class="keyword">implements</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlAttribute</span> String name;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Somewhere</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> IFoo lhs;</span><br><span class="line">  <span class="keyword">public</span> IFoo rhs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"somewhere"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"lhs"</span> <span class="attr">type</span>=<span class="string">"xs:anyType"</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"rhs"</span> <span class="attr">type</span>=<span class="string">"xs:anyType"</span> <span class="attr">minOccurs</span>=<span class="string">"0"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br></pre></td></tr></table></figure><p>正如你所看到的，模式将产生接受的xs：anyType的它比Java代码实际上需要更多的宽松。实例将是与上述相同的例子。从JAXB 2.1 RI开始，我们捆绑com.sun.xml.bind.AnyTypeAdapter在定义该适配器的运行时类。所以，你将不必编写此适配器在你的代码。</p><h3 id="使用-XmlElement"><a href="#使用-XmlElement" class="headerlink" title="使用@XmlElement"></a>使用@XmlElement</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FooImpl</span> <span class="keyword">implements</span> <span class="title">IFoo</span> </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Somewhere</span> </span>&#123;</span><br><span class="line">  <span class="meta">@XmlElement</span>(type=FooImpl<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class">  <span class="title">public</span> <span class="title">IFoo</span> <span class="title">lhs</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">somewhere</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">lhs</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">lhs</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">somewhere</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这实际上告诉JAXB运行时说：“即使字段是IFoo的，它实际上只是FooImpl。</p><p>在这种方法中，一个接口的引用必须具有实际实现类的知识。因此，尽管这需要输入最少的，它可能不会，如果这跨越模块的边界工作得很好。</p><p>像 XmlJavaTypeAdapter 方法，这可以甚至当存在多个实施方式中，只要它们共享共同的祖先中。</p><p>这种情况下的极端是指定@XmlElement（类型= Object.class） 。</p><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><h3 id="指定XML字段顺序"><a href="#指定XML字段顺序" class="headerlink" title="指定XML字段顺序"></a>指定XML字段顺序</h3><p>默认JAXB生成的XML字段是随机的，可以使用注解<code>@XmlType</code>的<code>propOrder</code>属性来指定XML字段的顺序。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlType</span>(propOrder = &#123; <span class="string">"user"</span>, <span class="string">"profile"</span>,<span class="string">"unit"</span>&#125;)</span><br></pre></td></tr></table></figure><p>另外，使用<code>@XmlElementWrapper</code>标注的属性，不能出现在<code>@XmlType</code>的<code>propOrder</code>列表中。但是对于使用<code>@XmlElement</code>标注的属性，则必须出现在该列表中</p><h3 id="集合中省略集合节点名"><a href="#集合中省略集合节点名" class="headerlink" title="集合中省略集合节点名"></a>集合中省略集合节点名</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">//Example: code fragment</span><br><span class="line">  int[] names;</span><br><span class="line"></span><br><span class="line">// XML Serialization Form 1 (Unwrapped collection)</span><br><span class="line"><span class="tag">&lt;<span class="name">names</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">names</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">names</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">names</span>&gt;</span></span><br><span class="line"> </span><br><span class="line">// XML Serialization Form 2 ( Wrapped collection )</span><br><span class="line"><span class="tag">&lt;<span class="name">wrapperElement</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">names</span>&gt;</span> value-of-item <span class="tag">&lt;/<span class="name">names</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">names</span>&gt;</span> value-of-item <span class="tag">&lt;/<span class="name">names</span>&gt;</span></span><br><span class="line">   ....</span><br><span class="line"><span class="tag">&lt;/<span class="name">wrapperElement</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The <a href="http://docs.oracle.com/javaee/5/api/javax/xml/bind/annotation/XmlElementWrapper.html">docs</a> state the the @XmlElementWrapper annotation can be used for ‘unwrapped’ or ‘wrapped’ collections.</p><p>If you include @XmlElementWrapper it will add a grouping element:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlElementWrapper</span></span><br><span class="line"><span class="meta">@XmlElement</span>(name=<span class="string">"foo"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Foo&gt; <span class="title">getFoos</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> foos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foos</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">foo</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">foo</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">foos</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure><p>and if you omit it, then it won’t.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlElement</span>(name=<span class="string">"foo"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;Foo&gt; <span class="title">getFoos</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> foos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foo</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foo</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure><p>另外，<code>@XmlElementWrapper</code>仅允许出现在集合属性上。</p><p><a href="http://stackoverflow.com/questions/16202583/xmlelementwrapper-for-unwrapped-collections">stackoverflow地址</a></p><h3 id="转为XML文件时移除xmlns-xsi和xsi-type"><a href="#转为XML文件时移除xmlns-xsi和xsi-type" class="headerlink" title="转为XML文件时移除xmlns:xsi和xsi:type"></a>转为XML文件时移除xmlns:xsi和xsi:type</h3><p>How to remove xmlns:xsi and xsi:type from JAXB marshalled XML file</p><p>使用<code>@XmlElement</code>指定<code>Type</code>类型</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlElement</span>(name = <span class="string">"DefaultCar"</span>, type=String<span class="class">.<span class="keyword">class</span>) </span></span><br><span class="line"><span class="class"><span class="title">protected</span> <span class="title">Object</span> <span class="title">defaultcar</span></span>;  </span><br><span class="line"></span><br><span class="line"><span class="meta">@XmlElement</span>(name = <span class="string">"dir"</span>, type=Dir<span class="class">.<span class="keyword">class</span>)</span></span><br><span class="line"><span class="class"><span class="title">private</span> <span class="title">ArrayList</span> <span class="title">dirs</span> </span>= <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>在List中如果每个对象，类型不同，对象转XML时，可以用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlElementRefs</span>(&#123;</span><br><span class="line">        <span class="meta">@XmlElementRef</span>(name=<span class="string">"data"</span>, type=A<span class="class">.<span class="keyword">class</span>),</span></span><br><span class="line"><span class="class">        @<span class="title">XmlElementRef</span>(<span class="title">name</span></span>=<span class="string">"data"</span>, type=B<span class="class">.<span class="keyword">class</span>),</span></span><br><span class="line"><span class="class">        @<span class="title">XmlElementRef</span>(<span class="title">name</span></span>=<span class="string">"data"</span>, type=C<span class="class">.<span class="keyword">class</span>),</span></span><br><span class="line"><span class="class">        @<span class="title">XmlElementRef</span>(<span class="title">name</span></span>=<span class="string">"data"</span>, type=D<span class="class">.<span class="keyword">class</span>)&#125;)</span></span><br></pre></td></tr></table></figure><p>但是在XML转换为对象时，这边可能需要额外判断一下，直接转换时，如果XML节点元素都为<data xsi:type="">，指定了type，也可能会报错。</data></p><h3 id="XmlElementRef的一些使用"><a href="#XmlElementRef的一些使用" class="headerlink" title="XmlElementRef的一些使用"></a>XmlElementRef的一些使用</h3><p>@XmlElementRef annotation can be used with a JavaBean property or from within @XmlElementRefs</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlElementRefs</span>(&#123;</span><br><span class="line">    <span class="meta">@XmlElementRef</span>(name=<span class="string">"data"</span>, type=A<span class="class">.<span class="keyword">class</span>),</span></span><br><span class="line"><span class="class">    @<span class="title">XmlElementRef</span>(<span class="title">name</span></span>=<span class="string">"data"</span>, type=B<span class="class">.<span class="keyword">class</span>),</span></span><br><span class="line"><span class="class">    @<span class="title">XmlElementRef</span>(<span class="title">name</span></span>=<span class="string">"data"</span>, type=C<span class="class">.<span class="keyword">class</span>),</span></span><br><span class="line"><span class="class">    @<span class="title">XmlElementRef</span>(<span class="title">name</span></span>=<span class="string">"data"</span>, type=D<span class="class">.<span class="keyword">class</span>)&#125;)</span></span><br></pre></td></tr></table></figure><p>XML Schema substitution group support</p><p>The usage is subject to the following constraints:</p><ol><li>If the collection item type (for collection property) or property type (for single valued property) is JAXBElement, then @XmlElementRef}.name() and @XmlElementRef.namespace() must point an element factory method with an @XmlElementDecl annotation in a class annotated with @XmlRegistry (usually ObjectFactory class generated by the schema compiler) :<br>(1). @XmlElementDecl.name() must equal @XmlElementRef.name()<br>(2). @XmlElementDecl.namespace() must equal @XmlElementRef.namespace().</li><li>If the collection item type (for collection property) or property type (for single valued property) is not JAXBElement, then the type referenced by the property or field must be annotated with XmlRootElement.</li><li>This annotation can be used with the following annotations: XmlElementWrapper, XmlJavaTypeAdapter.</li></ol><h4 id="Example-1-Ant-Task-Example"><a href="#Example-1-Ant-Task-Example" class="headerlink" title="Example 1: Ant Task Example"></a>Example 1: Ant Task Example</h4><p>The following Java class hierarchy models an Ant build script. An Ant task corresponds to a class in the class hierarchy. The XML element name of an Ant task is indicated by the <code>@XmlRootElement</code> annotation on its corresponding class.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@XmlRootElement</span>(name=<span class="string">"target"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Target</span> </span>&#123;</span><br><span class="line">    <span class="comment">// The presence of @XmlElementRef indicates that the XML</span></span><br><span class="line">    <span class="comment">// element name will be derived from the @XmlRootElement </span></span><br><span class="line">    <span class="comment">// annotation on the type (for e.g. "jar" for JarTask). </span></span><br><span class="line">    <span class="meta">@XmlElementRef</span></span><br><span class="line">    List&lt;Task&gt; tasks;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@XmlRootElement</span>(name=<span class="string">"jar"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JarTask</span> <span class="keyword">extends</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@XmlRootElement</span>(name=<span class="string">"javac"</span>)</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">JavacTask</span> <span class="keyword">extends</span> <span class="title">Task</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- XML Schema fragment --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"target"</span> <span class="attr">type</span>=<span class="string">"Target"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"Target"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xs:choice</span> <span class="attr">maxOccurs</span>=<span class="string">"unbounded"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">ref</span>=<span class="string">"jar"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">ref</span>=<span class="string">"javac"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xs:choice</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Thus the following code fragment:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">     Target target = <span class="keyword">new</span> Target();</span><br><span class="line">     target.tasks.add(<span class="keyword">new</span> JarTask());</span><br><span class="line">     target.tasks.add(<span class="keyword">new</span> JavacTask());</span><br><span class="line">     marshal(target);</span><br><span class="line">``` </span><br><span class="line">will produce the following XML output:</span><br><span class="line">```xml</span><br><span class="line">     &lt;target&gt;</span><br><span class="line">       &lt;jar&gt;</span><br><span class="line">         ....</span><br><span class="line">       &lt;/jar&gt;</span><br><span class="line">       &lt;javac&gt;</span><br><span class="line">         ....</span><br><span class="line">       &lt;/javac&gt;</span><br><span class="line">     &lt;/target&gt;</span><br></pre></td></tr></table></figure><p>It is not an error to have a class that extends Task that doesn’t have <code>XmlRootElement</code>. But they can’t show up in an XML instance (because they don’t have XML element names).</p><h4 id="Example-2-XML-Schema-Susbstitution-group-support"><a href="#Example-2-XML-Schema-Susbstitution-group-support" class="headerlink" title="Example 2: XML Schema Susbstitution group support"></a>Example 2: XML Schema Susbstitution group support</h4><p>The following example shows the annotations for XML Schema substitution groups. The annotations and the ObjectFactory are derived from the schema.</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">     <span class="meta">@XmlElement</span></span><br><span class="line">     <span class="class"><span class="keyword">class</span> <span class="title">Math</span> </span>&#123;</span><br><span class="line">         <span class="comment">//  The value of type()is </span></span><br><span class="line">         <span class="comment">//  JAXBElement.class , which indicates the XML</span></span><br><span class="line">         <span class="comment">//  element name ObjectFactory - in general a class marked</span></span><br><span class="line">         <span class="comment">//  with @XmlRegistry. (See ObjectFactory below)</span></span><br><span class="line">         <span class="comment">//  </span></span><br><span class="line">         <span class="comment">//  The name() is "operator", a pointer to a</span></span><br><span class="line">         <span class="comment">// factory method annotated with a</span></span><br><span class="line">         <span class="comment">//  XmlElementDecl with the name "operator". Since</span></span><br><span class="line">         <span class="comment">//  "operator" is the head of a substitution group that</span></span><br><span class="line">         <span class="comment">//  contains elements "add" and "sub" elements, "operator"</span></span><br><span class="line">         <span class="comment">//  element can be substituted in an instance document by</span></span><br><span class="line">         <span class="comment">//  elements "add" or "sub". At runtime, JAXBElement</span></span><br><span class="line">         <span class="comment">//  instance contains the element name that has been</span></span><br><span class="line">         <span class="comment">//  substituted in the XML document.</span></span><br><span class="line">         <span class="comment">// </span></span><br><span class="line">         <span class="meta">@XmlElementRef</span>(type=JAXBElement<span class="class">.<span class="keyword">class</span>,<span class="title">name</span></span>=<span class="string">"operator"</span>)</span><br><span class="line">         JAXBElement&lt;? extends Operator&gt; term;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="meta">@XmlRegistry</span></span><br><span class="line">     <span class="class"><span class="keyword">class</span> <span class="title">ObjectFactory</span> </span>&#123;</span><br><span class="line">         <span class="meta">@XmlElementDecl</span>(name=<span class="string">"operator"</span>)</span><br><span class="line">         <span class="function">JAXBElement&lt;Operator&gt; <span class="title">createOperator</span><span class="params">(Operator o)</span> </span>&#123;...&#125;</span><br><span class="line">         <span class="meta">@XmlElementDecl</span>(name=<span class="string">"add"</span>,substitutionHeadName=<span class="string">"operator"</span>)</span><br><span class="line">         <span class="function">JAXBElement&lt;Operator&gt; <span class="title">createAdd</span><span class="params">(Operator o)</span> </span>&#123;...&#125;</span><br><span class="line">         <span class="meta">@XmlElementDecl</span>(name=<span class="string">"sub"</span>,substitutionHeadName=<span class="string">"operator"</span>)</span><br><span class="line">         <span class="function">JAXBElement&lt;Operator&gt; <span class="title">createSub</span><span class="params">(Operator o)</span> </span>&#123;...&#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="class"><span class="keyword">class</span> <span class="title">Operator</span> </span>&#123;</span><br><span class="line">         ...</span><br><span class="line">     &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//Thus, the following code fragment</span></span><br><span class="line"></span><br><span class="line">     Math m = <span class="keyword">new</span> Math();</span><br><span class="line">     m.term = <span class="keyword">new</span> ObjectFactory().createAdd(<span class="keyword">new</span> Operator());</span><br><span class="line">     marshal(m);</span><br><span class="line">``` </span><br><span class="line">will produce the following XML output:</span><br><span class="line">```xml</span><br><span class="line">     &lt;math&gt;</span><br><span class="line">       &lt;add&gt;...&lt;/add&gt;</span><br><span class="line">     &lt;/math&gt;</span><br></pre></td></tr></table></figure><h3 id="nil-属性和其他属性"><a href="#nil-属性和其他属性" class="headerlink" title="nil 属性和其他属性"></a>nil 属性和其他属性</h3><p>XML 架构规范允许其他 XML 属性出现在 xsi:nil 属性设置为 true 的元素中。由于只有当对应的对象被分配了空引用时，XmlSerializer 类才将 nil 属性设置为 true，因此，表示 XML 属性（通过类型为 System.Xml.Serialization.XmlAttributeAttribute 的属性）的任何对象字段此时甚至不能存在于内存中。</p><p>因此，XmlSerializer 类按如下方式处理其他属性：</p><ol><li><p>在将对象序列化为 XML 文档时：如果 XmlSerializer 类遇到与某个 XML 元素对应的对象的空引用，并且应当为该元素指定 nil 属性，则它会省略任何其他属性。</p></li><li><p>在将 XML 文档反序列化为对象时：如果 XmlSerializer 类遇到指定 xsi:nil=”true” 的 XML 元素，它会为对应的对象分配一个空引用，并忽略其他任何属性。如果该 XML 文档是由某个 XML 架构实现创建的，而且该实现允许其他属性与 xsi:nil=”true” 一起出现 — 实际上是不将 nil 的 true 值绑定到空对象引用 — 则可能会出现这种情况。</p></li></ol><h3 id="XSD文件中的使用"><a href="#XSD文件中的使用" class="headerlink" title="XSD文件中的使用"></a>XSD文件中的<choice>使用</choice></h3><p>These sequence tags will be under<choice>tag. Now either of these set of tags (Sequence) will be validated.</choice></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:schema</span> <span class="attr">attributeFormDefault</span>=<span class="string">"unqualified"</span> <span class="attr">elementFormDefault</span>=<span class="string">"qualified"</span> <span class="attr">xmlns:xs</span>=<span class="string">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"root"</span> <span class="attr">type</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xs:choice</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"empno"</span> <span class="attr">type</span>=<span class="string">"xs:string"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"designation"</span> <span class="attr">type</span>=<span class="string">"xs:string"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">type</span>=<span class="string">"xs:string"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"age"</span> <span class="attr">type</span>=<span class="string">"xs:unsignedByte"</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xs:choice</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:schema</span>&gt;</span></span><br></pre></td></tr></table></figure><p>一般建议使用如下</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">xs:schema</span> <span class="attr">attributeFormDefault</span>=<span class="string">"unqualified"</span> <span class="attr">elementFormDefault</span>=<span class="string">"qualified"</span> <span class="attr">xmlns:xs</span>=<span class="string">"http://www.w3.org/2001/XMLSchema"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"root"</span> <span class="attr">type</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"root"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"trunk"</span> <span class="attr">type</span>=<span class="string">"trunk"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"other"</span> <span class="attr">type</span>=<span class="string">"xs:string"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">xs:complexType</span> <span class="attr">name</span>=<span class="string">"trunk"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"branch1"</span> <span class="attr">type</span>=<span class="string">"xs:string"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">xs:element</span> <span class="attr">name</span>=<span class="string">"branch2"</span> <span class="attr">type</span>=<span class="string">"xs:string"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">xs:sequence</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xs:complexType</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">xs:schema</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Xml-Schema的派生复杂类型"><a href="#Xml-Schema的派生复杂类型" class="headerlink" title="Xml Schema的派生复杂类型"></a>Xml Schema的派生复杂类型</h3><p>XML Schema提供了一种机制，称为替换组（substitution group），允许在内容模型中声明的某个元素被其他元素所替换。替换组有头元素（head element）和替换成员组成，头元素和替换成员都必须是全局元素，有相同的类型，或都有头元素派生。替换成员需要使用一个特殊的属性sbustitutionGroup，用于指定要替换的头元素的名字。在内容模型中引用头元素，在实例文档中则用任意的替换组成员来替换头元素。详见<a href="http://blog.csdn.net/tuolingss/article/details/8550090">他人博客</a></p><h3 id="使用JDK中的xjc-exe命令，根据xsd文件生成java代码"><a href="#使用JDK中的xjc-exe命令，根据xsd文件生成java代码" class="headerlink" title="使用JDK中的xjc.exe命令，根据xsd文件生成java代码"></a>使用JDK中的xjc.exe命令，根据xsd文件生成java代码</h3><p>实际上，有更懒的办法。<br>写好一个xsd文件，然后用jdk下bin <code>xjc.exe test-scheme.xsd -d [your src dir]</code>命令自动生成java等文件。也可以用IDE，像eclipse 选中xsd右键-&gt; Genarate -&gt; JAXB Class生成 。在eclipse中，要先让项目运行环境在JDK 1.6 或以上。如默认项目运行在JRE，需要手工更改Build path为JDK</p><p>关于 xjc.exe For more info use <a href="http://docs.oracle.com/javaee/5/tutorial/doc/bnazg.html">this documentation</a></p><p>and <a href="http://docs.oracle.com/javase/6/docs/technotes/tools/share/xjc.html">this</a></p><p>如果生成的根元素对应的对象没有自动添加上<code>@XmlRootElement</code>，则需要手动添加。</p></div><div class="popular-posts-header">推荐文章</div><ul class="popular-posts"><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2017/03/31/about-struts-s2-045-and-s2-046/" rel="bookmark">关于 struts s2-045和s2-046漏洞</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2015/03/03/autoboxing-and-unboxing-int-Integer-precision-range/" rel="bookmark">自动装包与拆包中需要注意的int Integer数据范围</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2015/12/02/disable-server-directory-browsing/" rel="bookmark">禁止目录遍历</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2016/10/26/filter-copy-request-inputStream/" rel="bookmark">filter中复制request的inputStream，多次取流</a></div></li><li class="popular-posts-item"><div class="popular-posts-title"><a href="/2015/12/01/fix-Insecure-HTTP-Methods-Enabled/" rel="bookmark">解决安全扫描Insecure HTTP Methods Enabled的问题</a></div></li></ul><div class="post-widgets"><div class="likely"><div class="twitter">Tweet</div><div class="facebook">Share</div><div class="linkedin">Link</div><div class="gplus">Plus</div><div class="vkontakte">VK</div><div class="odnoklassniki">Class</div><div class="telegram">Send</div><div class="whatsapp">Send</div><div class="pinterest">Pin</div></div></div><script src="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.js"></script><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div><div class="reward-container"><div>谢谢大爷打赏，常来玩啊</div><button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'>打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.png" alt="颜哲 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.jpg" alt="颜哲 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者： </strong>颜哲</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://blog.yanzhe.tk/2016/02/27/jaxb-use-interface-and-some-tips/" title="使用jaxb接口的实现和一些Tips">https://blog.yanzhe.tk/2016/02/27/jaxb-use-interface-and-some-tips/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><p>欢迎关注我的其它发布渠道</p><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/atom.xml"><span class="icon"><i class="fa fa-rss"></i> </span><span class="label">RSS</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/java/" rel="tag"><i class="fa fa-tag"></i> Java</a> <a href="/tags/jaxb/" rel="tag"><i class="fa fa-tag"></i> JAXB</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2015/12/10/sublime-text-3-use-summary/" rel="prev" title="sublime text 3 使用总结"><i class="fa fa-chevron-left"></i> sublime text 3 使用总结</a></div><div class="post-nav-item"><a href="/2016/03/15/install-IBM-WebSphere-MQ-and-some-base-MQ-command/" rel="next" title="安装IBM WebSphere MQ以及一些基本MQ命令">安装IBM WebSphere MQ以及一些基本MQ命令 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#JAXB中的一些注解"><span class="nav-number">1.</span> <span class="nav-text">JAXB中的一些注解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Mapping-interfaces"><span class="nav-number">2.</span> <span class="nav-text">Mapping interfaces</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-XmlRootElement"><span class="nav-number">2.1.</span> <span class="nav-text">使用@XmlRootElement</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-XmlJavaTypeAdapter"><span class="nav-number">2.2.</span> <span class="nav-text">使用@XmlJavaTypeAdapter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用-XmlElement"><span class="nav-number">2.3.</span> <span class="nav-text">使用@XmlElement</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Tips"><span class="nav-number">3.</span> <span class="nav-text">Tips</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#指定XML字段顺序"><span class="nav-number">3.1.</span> <span class="nav-text">指定XML字段顺序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#集合中省略集合节点名"><span class="nav-number">3.2.</span> <span class="nav-text">集合中省略集合节点名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#转为XML文件时移除xmlns-xsi和xsi-type"><span class="nav-number">3.3.</span> <span class="nav-text">转为XML文件时移除xmlns:xsi和xsi:type</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XmlElementRef的一些使用"><span class="nav-number">3.4.</span> <span class="nav-text">XmlElementRef的一些使用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Example-1-Ant-Task-Example"><span class="nav-number">3.4.1.</span> <span class="nav-text">Example 1: Ant Task Example</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Example-2-XML-Schema-Susbstitution-group-support"><span class="nav-number">3.4.2.</span> <span class="nav-text">Example 2: XML Schema Susbstitution group support</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#nil-属性和其他属性"><span class="nav-number">3.5.</span> <span class="nav-text">nil 属性和其他属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#XSD文件中的使用"><span class="nav-number">3.6.</span> <span class="nav-text">XSD文件中的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Xml-Schema的派生复杂类型"><span class="nav-number">3.7.</span> <span class="nav-text">Xml Schema的派生复杂类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用JDK中的xjc-exe命令，根据xsd文件生成java代码"><span class="nav-number">3.8.</span> <span class="nav-text">使用JDK中的xjc.exe命令，根据xsd文件生成java代码</span></a></li></ol></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="颜哲" src="/images/avatar.jpg"><p class="site-author-name" itemprop="name">颜哲</p><div class="site-description" itemprop="description">生活啊，就像我的歌声，时而不靠谱，时而不着调。但总会打动自己</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">48</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">10</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">54</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/yanzhe919" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yanzhe919" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:yanzhe919@gmail.com" title="E-Mail → mailto:yanzhe919@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a> </span><span class="links-of-author-item"><a href="https://weibo.com/2489238871" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;2489238871" rel="noopener" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a> </span><span class="links-of-author-item"><a href="https://www.facebook.com/100008175840665" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;100008175840665" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a> </span><span class="links-of-author-item"><a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="rss fa-fw"></i>RSS</a></span></div><script type="text/javascript" charset="utf-8" src="/js/tagcloud.js"></script><script type="text/javascript" charset="utf-8" src="/js/tagcanvas.js"></script><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div id="myCanvasContainer" class="widget tagcloud"><canvas width="250" height="250" id="resCanvas"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/403%E6%94%B9%E4%B8%BA404/" rel="tag">403改为404</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/appscan/" rel="tag">AppScan</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ci-cd/" rel="tag">CI/CD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">Docker</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/editor/" rel="tag">Editor</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github-actions/" rel="tag">GitHub Actions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/https/" rel="tag">HTTPS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">Hexo</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ide/" rel="tag">IDE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ie11/" rel="tag">IE11</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/innodb-default-row-format/" rel="tag">InnoDB default ROW_FORMAT</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jaxb/" rel="tag">JAXB</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/junit/" rel="tag">JUnit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">Java</a><span class="tag-list-count">19</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mq/" rel="tag">MQ</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">MySQL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql%E5%A4%A7%E5%B0%8F%E5%86%99/" rel="tag">MySQL大小写</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql%E5%AD%97%E7%AC%A6%E9%9B%86/" rel="tag">MySQL字符集</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql%E5%B0%BE%E9%83%A8%E7%A9%BA%E6%A0%BC/" rel="tag">MySQL尾部空格</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle%E8%A7%A3%E9%94%81/" rel="tag">Oracle解锁</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rancheros/" rel="tag">RancherOS</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ss/" rel="tag">SS</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/" rel="tag">SSH</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/" rel="tag">Spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">Spring boot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/synchronization/" rel="tag">Synchronization</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcp/" rel="tag">TCP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wireshark/" rel="tag">Wireshark</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/copy-b%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6/" rel="tag">copy /b隐藏文件</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/curl/" rel="tag">curl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/" rel="tag">http命令行工具</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk/" rel="tag">jdk</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jpa/" rel="tag">jpa</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/" rel="tag">jvm</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keystore/" rel="tag">keystore</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/multi-stage-build/" rel="tag">multi-stage build</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/oracle/" rel="tag">oracle</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proxy/" rel="tag">proxy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh-keygen/" rel="tag">ssh-keygen</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh%E9%85%8D%E7%BD%AEconfig%E7%AE%80%E5%8C%96%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%99%BB%E5%BD%95/" rel="tag">ssh配置config简化命令行登录</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stream/" rel="tag">stream</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/utf8mb4/" rel="tag">utf8mb4</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vps/" rel="tag">vps</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wget/" rel="tag">wget</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/workflows/" rel="tag">workflows</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BC%A0%E9%80%92%E4%BF%A1%E5%8F%B7%E7%BB%99%E8%BF%9B%E7%A8%8B/" rel="tag">传递信号给进程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%81%9C%E6%AD%A2java%E8%BF%9B%E7%A8%8B/" rel="tag">停止Java进程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E9%98%B6%E6%AE%B5%E6%9E%84%E5%BB%BA/" rel="tag">多阶段构建</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/" rel="tag">安全</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%BF%E7%A8%8B/" rel="tag">线程</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%AE%89%E5%85%A8/" rel="tag">网络安全</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AC%E7%A0%81/" rel="tag">转码</a><span class="tag-list-count">1</span></li></ul></canvas></div></div><div><canvas id="canvas" style="width:60%">当前浏览器不支持canvas，请更换浏览器后再试</canvas></div><script>!function(){var o,a,r,f,t,i=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],e=document.getElementById("canvas");function h(t,e){for(var n=[1,2,3],l=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],o=0;o<i[e].length;o++)for(var a,h=0;h<i[e][o].length;h++)1==i[e][o][h]&&(a={x:14*(f+2)*t+2*h*(f+1)+(f+1),y:2*o*(f+1)+(f+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*n[Math.floor(Math.random()*n.length)],color:l[Math.floor(Math.random()*l.length)],disY:1},r.push(a))}e.getContext&&(o=e.getContext("2d"),e.height=100,e.width=700,o.fillStyle="#f00",o.fillRect(10,10,50,50),a=[],r=[],f=e.height/20-1,t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),a.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6]),clearInterval(void 0),setInterval(function(){!function(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),n=[];n.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var l=a.length-1;0<=l;l--)n[l]!==a[l]&&t.push(l+"_"+(Number(a[l])+1)%10);for(l=0;l<t.length;l++)h.apply(this,t[l].split("_"));a=n.concat()}(),function(){for(var t=0;t<r.length;t++)r[t].stepY+=r[t].disY,r[t].x+=r[t].stepX,r[t].y+=r[t].stepY,(r[t].x>700+f||r[t].y>100+f)&&(r.splice(t,1),t--)}(),function(){e.height=100;for(var t=0;t<a.length;t++)!function(t,e){for(var n=0;n<i[e].length;n++)for(var l=0;l<i[e][n].length;l++)1==i[e][n][l]&&(o.beginPath(),o.arc(14*(f+2)*t+2*l*(f+1)+(f+1),2*n*(f+1)+(f+1),f,0,2*Math.PI),o.closePath(),o.fill())}(t,a[t]);for(t=0;t<r.length;t++)o.beginPath(),o.arc(r[t].x,r[t].y,f,0,2*Math.PI),o.fillStyle=r[t].color,o.closePath(),o.fill()}()},50))}()</script></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2014 – <span itemprop="copyrightYear">2020</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">颜哲</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">252k</span> <a id="translateLink" href="javascript:translatePage();">繁体</a></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer></div><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1/canvas-nest.min.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script><script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script><script>var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});</script><script data-pjax>!function(){var e,t,o,n,r,a=document.getElementsByTagName("link");if(0<a.length)for(i=0;i<a.length;i++)"canonical"==a[i].rel.toLowerCase()&&a[i].href&&(e=a[i].href);t=e?e.split(":")[0]:window.location.protocol.split(":")[0],e=e||window.location.href,window,n=e,r=document.referrer,/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(n)||(o="https"===String(t).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif",r?(o+="?r="+encodeURIComponent(document.referrer),n&&(o+="&l="+n)):n&&(o+="?l="+n),(new Image).src=o)}()</script><script src="/js/local-search.js"></script><script data-pjax>document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});</script><script data-pjax>if (document.querySelectorAll('pre.mermaid').length) {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js', () => {
    mermaid.initialize({
      theme    : 'forest',
      logLevel : 3,
      flowchart: { curve     : 'linear' },
      gantt    : { axisFormat: '%m/%d/%Y' },
      sequence : { actorMargin: 50 }
    });
  }, window.mermaid);
}</script><div id="pjax"><script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'https://blog.yanzhe.tk/2016/02/27/jaxb-use-interface-and-some-tips/',]
      });
      });</script><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script><script>flOptions={iconStyle:"box",boxForm:"horizontal",position:"middleRight",networks:"Weibo,Wechat,QQZone,Evernote,Douban,Twitter,Facebook"},new needShareButton("#needsharebutton-float",flOptions)</script><script>NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'LKlB9WEblTuWsQlORotpASuM-gzGzoHsz',
      appKey     : 'oFb6ac842C0pIdBuW6t56Ezf',
      placeholder: "( •̀ ω •́ )✧ 不想写点什么？",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});</script></div></body></html>